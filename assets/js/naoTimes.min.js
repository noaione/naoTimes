function rStatus(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function jsonify(e){return e.text()}function naoTimesProcess(e){console.log("Fetching naoTimes data"),fetch(`https://utang.naoti.me/${e}?pretty=true`).then(rStatus).then(jsonify).then(function(e){var t=new Date,a=function(e){var a=(1e3*e-t)/1e3,n=Math.floor(a/60),o=Math.floor(a/60/60),i=Math.floor(a/60/60/24);if(a<0)return!1;switch(i){case 0:return o>1?"Tayang dalam "+o+" jam":n>1?"Tayang dalam "+n+" menit":"Tayang dalam "+a+" detik";case 1:return"Tayang besok";default:return"Tayang dalam "+i+" hari"}},n=document.getElementById("naotimes"),o=document.getElementById("naotimes-loading"),i=JSON.parse(e);if(0==Object.keys(i).length){var r=document.createElement("h2");r.classList.add("naotimes-animetitle");var d=document.createTextNode("Tidak ada data utang");return r.appendChild(d),o.parentNode.removeChild(o),0}console.log("Parsing naoTimes data");for(let[e,t]of Object.entries(i)){r=document.createElement("h2");r.classList.add("naotimes-seasonal"),r.appendChild(document.createTextNode(e));let o=0,i=[];t.forEach(function(e){let t=e.title;var n=e.status,r=[],d=e.episode;for(let[e,t]of Object.entries(n))t||r.push(e);if(Array.isArray(r)&&r.length){r=r.join(" ");let n=a(e.airing_time);n&&(r=n);var s=document.createElement("h3");s.classList.add("naotimes-animetitle");var l=document.createElement("ul");l.classList.add("naotimes-animeprogress"),d.length<2&&(d="0"+d);var c=d+" @ "+r;l.appendChild(document.createTextNode(c)),s.appendChild(document.createTextNode(t)),i.push(s),i.push(l),o+=1}}),o>0&&(n.appendChild(r),i.forEach(function(e){n.appendChild(e)}))}o.parentNode.removeChild(o),console.log("Finished!")}).catch(function(e){var t=document.getElementById("naotimes-loading");console.log("Request failed",e);var a=document.createElement("h2");a.classList.add("naotimes-animetitle");var n=document.createTextNode("Tidak dapat megambil data utang.");a.appendChild(n),t.parentNode.removeChild(t)})}